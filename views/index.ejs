<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">

<head>

	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>My Blog</title>

	<style>


	*{
		font-family: Palatino, "Palatino LT STD", "Palatino Linotype", "Book Antiqua", Georgia, serif;
	}

	.flex-container {
	  display: flex;
	  background-color: DodgerBlue;
	}

	.flex-container>div {
	  background-color: #f1f1f1;
	  margin: 10px;
	  padding:20px;
	  font-size: 30px;
	}

	p.date-attribs{
		color:#808080;
		font-size: 12px;
	}

	p.post-content-attribs{
		font-size: 15px;
	}

	h3.post-title-attribs{
		color:rgb(64,64,64);
		font-size: 20px;
	}

	div.post-attribs{
		width: 90%;
		box-shadow: 10px 10px 20px #888888;
	}

	</style>

	<link rel="stylesheet" href="stylesheets/foundation.css">

</head>

<body>

	<div class="grid-x">
	  <div class="small-6 cell large-6">

			  <img src="images/fugu.png">
				<div style="text-align:center">
					<h1> garland </h1>
					<h3> Weed cutter </h3>
					<p> Brief summary of me. </p>
					<p>See what I'm doing on <a href="https://github.com/GarlandZhang">GitHub</a>. </p>
					<p> Add me on <a href="https://www.linkedin.com/in/zhijia-zhang-745979148/">LinkedIn</a>!</p>
				</div>

		</div>

	  <div class="small-6 cell large-6">

			<a href="/write">Write</a>

			<% for(var i=0; i < posts.length; i++) { %>

				<% var raw_date = posts[i].timestamp;
				 var day = ("" + raw_date).split(" ")[ 2 ];
				 var month = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"][raw_date.getMonth()];
				 var post_date = (day + ' ' + month + ' ' + raw_date.getFullYear()).toUpperCase();
				 %>

				 <%

				 function truncate(str, maxLength, suffix)
					{
					    if(str.length > maxLength)
					    {
					        str = str.substring(0, maxLength + 1);
					        str = str.substring(0, Math.min(str.length, str.lastIndexOf(" ")));
					        str = str + suffix;
					    }
					    return str;
					}

				 %>

				 <%

				 var date_name = "date" + i;
				 var title_name = "title" + i;
				 var content_name = "content" + i;

				 %>

				<div class="small-3 cell large-3 post-attribs">

					<p class="date-attribs" name=<%= date_name %>> <b> <%= post_date %> </b> </p>
					<h3 class="post-title-attribs" name=<%= title_name %>> <b> <%= truncate(posts[i].title.charAt(0).toUpperCase() + posts[ i ].title.slice(1).substring(0,50),	 40, "...") %> </b> </h1>
					<p class="post-content-attribs"name=<%= content_name %>> <%= truncate(posts[i].content.substring(0, 100), 100, "...") %> </p>

					<a href="post-read-more">Read on</a>

				</div>

				<br> </br>

			<% } %>

		</div>
	</div>
</body>
</html>
